---
import type { Ruta } from '@/env'
import Layout from '@/layouts/Layout.astro'
import { RouteCard } from '@/components/RouteCard'
import { RoutesModal } from '@/components/RoutesModal'
import { IconBus, IconClock, IconLocation } from '@/components/Icons'
import { Icon } from '@/components/Icon'

const rutas: Ruta[] = [
  {
    id: 'b5abaf5b-2cf7-4bf5-8b99-29d46b23ef33',
    tipo: 'directo',
    precio: 450,
    origen: 'Montevideo',
    destino: 'Punta del Este',
    duracion_en_minutos: 150,
    frecuencia_en_texto: 'Cada 30 min',
    horas: [
      { hora: '06:00', momento: 'mañana' },
      { hora: '06:30', momento: 'mañana' },
      { hora: '07:00', momento: 'mañana' },
      { hora: '07:30', momento: 'mañana' },
      { hora: '08:00', momento: 'mañana' },
      { hora: '08:30', momento: 'mañana' },
      { hora: '09:00', momento: 'mañana' },
      { hora: '09:30', momento: 'mañana' },
      { hora: '10:00', momento: 'mañana' },
      { hora: '10:30', momento: 'mañana' },
      { hora: '11:00', momento: 'mañana' },
      { hora: '11:30', momento: 'mañana' },
      { hora: '12:00', momento: 'tarde' },
      { hora: '12:30', momento: 'tarde' },
      { hora: '13:00', momento: 'tarde' },
      { hora: '13:30', momento: 'tarde' },
      { hora: '14:00', momento: 'tarde' },
      { hora: '14:30', momento: 'tarde' },
      { hora: '15:00', momento: 'tarde' },
      { hora: '15:30', momento: 'tarde' },
      { hora: '16:00', momento: 'tarde' },
      { hora: '16:30', momento: 'tarde' },
      { hora: '17:00', momento: 'tarde' },
      { hora: '17:30', momento: 'tarde' },
      { hora: '18:00', momento: 'noche' },
      { hora: '18:30', momento: 'noche' },
      { hora: '19:00', momento: 'noche' },
      { hora: '19:30', momento: 'noche' },
      { hora: '20:00', momento: 'noche' },
      { hora: '20:30', momento: 'noche' },
      { hora: '21:00', momento: 'noche' },
      { hora: '21:30', momento: 'noche' },
      { hora: '22:00', momento: 'noche' }
    ],
    falta: 'feriado'
  },
  {
    id: '859073e8-21e7-472c-a324-629a108df5b7',
    tipo: 'directo',
    precio: 380,
    origen: 'Montevideo',
    destino: 'Colonia',
    duracion_en_minutos: 195,
    frecuencia_en_texto: 'Cada 1 hora',
    horas: [
      { hora: '06:00', momento: 'mañana' },
      { hora: '07:00', momento: 'mañana' },
      { hora: '08:00', momento: 'mañana' },
      { hora: '09:00', momento: 'mañana' },
      { hora: '10:00', momento: 'mañana' },
      { hora: '11:00', momento: 'mañana' },
      { hora: '12:00', momento: 'tarde' },
      { hora: '13:00', momento: 'tarde' },
      { hora: '14:00', momento: 'tarde' },
      { hora: '15:00', momento: 'tarde' },
      { hora: '16:00', momento: 'tarde' },
      { hora: '17:00', momento: 'tarde' },
      { hora: '18:00', momento: 'noche' },
      { hora: '19:00', momento: 'noche' },
      { hora: '20:00', momento: 'noche' },
      { hora: '21:00', momento: 'noche' },
      { hora: '22:00', momento: 'noche' }
    ]
  },
  {
    id: '6d063aba-5a76-491c-80b0-bf37a697a034',
    tipo: 'semi-directo',
    precio: 720,
    origen: 'Montevideo',
    destino: 'Paysandú',
    duracion_en_minutos: 345,
    frecuencia_en_texto: '3 por día',
    horas: [
      { hora: '07:30', momento: 'mañana' },
      { hora: '14:00', momento: 'tarde' },
      { hora: '21:30', momento: 'noche' }
    ]
  },
  {
    id: '4cbd5f88-dc48-4964-a277-1889033b1a18',
    tipo: 'semi-directo',
    precio: 850,
    origen: 'Montevideo',
    destino: 'Salto',
    duracion_en_minutos: 390,
    frecuencia_en_texto: '2 por día',
    horas: [
      { hora: '08:00', momento: 'mañana' },
      { hora: '22:00', momento: 'noche' }
    ]
  },
  {
    id: 'a99b8cfb-801d-4710-bf09-a17071f80ee0',
    tipo: 'semi-directo',
    precio: 920,
    origen: 'Montevideo',
    destino: 'Rivera',
    duracion_en_minutos: 435,
    frecuencia_en_texto: '2 por día',
    horas: [
      { hora: '07:00', momento: 'mañana' },
      { hora: '21:00', momento: 'noche' }
    ]
  },
  {
    id: 'f8613521-4a94-490f-8976-afb0c10975c9',
    tipo: 'semi-directo',
    precio: 680,
    origen: 'Montevideo',
    destino: 'Tacuarembó',
    duracion_en_minutos: 330,
    frecuencia_en_texto: '2 por día',
    horas: [
      { hora: '08:30', momento: 'mañana' },
      { hora: '20:30', momento: 'noche' }
    ]
  },
  {
    id: 'd93dd86c-eb5b-43ec-84e2-d2409ec91796',
    tipo: 'semi-directo',
    precio: 780,
    origen: 'Montevideo',
    destino: 'Melo',
    duracion_en_minutos: 405,
    frecuencia_en_texto: '1 por día',
    horas: [
      { hora: '09:00', momento: 'mañana' }
    ]
  },
  {
    id: '08927e6f-7227-4142-9f86-724614e4f505',
    tipo: 'directo',
    precio: 520,
    origen: 'Montevideo',
    destino: 'Rocha',
    duracion_en_minutos: 225,
    frecuencia_en_texto: '4 por día',
    horas: [
      { hora: '07:00', momento: 'mañana' },
      { hora: '11:30', momento: 'mañana' },
      { hora: '15:00', momento: 'tarde' },
      { hora: '18:30', momento: 'tarde' }
    ]
  },
  {
    id: '6fad0aa9-879d-4f45-8389-b1b6282282e5',
    tipo: 'internacional',
    precio: 1200,
    origen: 'Montevideo',
    destino: 'Buenos Aires',
    duracion_en_minutos: 510,
    frecuencia_en_texto: 'Diario',
    horas: [
      { hora: '22:30', momento: 'noche' }
    ]
  },
  {
    id: 'e0ff46db-dca2-4e8d-831d-d89fe4f1bd1d',
    tipo: 'internacional',
    precio: 2800,
    origen: 'Montevideo',
    destino: 'São Paulo',
    duracion_en_minutos: 1125,
    frecuencia_en_texto: '3 por semana',
    horario: 'Lun, Mié, Vie: 20:00'
  }
]

const horariosDestacados = [
  {
    title: 'Servicios Matutinos',
    description: 'Primeras salidas del día',
    hours: ['06:00', '06:30', '07:00', '07:30'],
    bgColor: '#EFF6FF',
    bg2Color: '#DBEAFE',
    mainColor: '#1E40AF',
    color: '#1D4ED8'
  },
  {
    title: 'Servicios Ejecutivos',
    description: 'Horarios premium',
    hours: ['08:00', '14:00', '18:00', '22:00'],
    bgColor: '#F0FDF4',
    bg2Color: '#DCFCE7',
    mainColor: '#166534',
    color: '#15803D'
  },
  {
    title: 'Servicios Nocturnos',
    description: 'Últimas salidas',
    hours: ['20:00', '21:00', '22:00', '22:30'],
    bgColor: '#FFF7ED',
    bg2Color: '#FFEDD5',
    mainColor: '#9A3412',
    color: '#C2410C'
  }
]

const informacionImportante = [
  {
    Icon: IconLocation,
    title: 'Terminal Principal',
    description: 'Terminal Tres Cruces Montevideo'
  },
  {
    Icon: IconClock,
    title: 'Recomendaciones',
    description: 'Llegar 30 min antes para viajes nacionales'
  },
  {
    Icon: IconBus,
    title: 'Equipaje',
    description: 'Hasta 20kg incluido en el pasaje'
  }
]
---

<Layout title='Rutas'>
  <RoutesModal client:load />
	<section class='w-full h-fit py-12 pt-20 flex flex-col items-center gap-4'>
		<h1 class='text-4xl font-bold text-gray-800 text-center'>Nuestras Rutas</h1>
		<p class='text-gray-600 text-lg text-center max-w-160'>Conectamos todo Uruguay y principales destinos internacionales con servicios regulares y confiables</p>
	</section>
	<section class='overflow-hidden w-full mx-auto max-w-screen-2xl h-fit px-4 flex flex-col gap-6'>
		<h2 class='text-2xl font-bold text-gray-800'>Rutas Nacionales</h2>
		<div class='grid w-full h-fit grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
			{
				rutas.map((ruta) => {
					if (ruta.tipo === 'internacional') return
					return <RouteCard {...ruta} client:load />
				})
			}
		</div>
	</section>
	<section class='overflow-hidden w-full mx-auto max-w-screen-2xl h-fit p-4 py-12 flex flex-col gap-6'>
		<h2 class='text-2xl font-bold text-gray-800'>Rutas Internacionales</h2>
		<div class='grid w-full h-fit grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6'>
			{
				rutas.map((ruta) => {
					if (ruta.tipo !== 'internacional') return
					return <RouteCard {...ruta} client:load />
				})
			}
		</div>
	</section>
  <section class='w-full h-fit px-4 pb-8 flex justify-center max-w-screen-2xl mx-auto'>
    <div class='bg-white w-full h-fit py-8 rounded-xl shadow-md px-8'>
      <h1 class='text-2xl font-bold text-gray-800 text-center'>Horarios Destacados</h1>
      <div class='w-full grid lg:grid-cols-3 md:grid-cols-2 grid-cols-1 h-fit place-items-center py-6 gap-6'>
        {
          horariosDestacados.map(({ description, hours, title, bg2Color, bgColor, color, mainColor }) => (
            <article class='w-full h-fit max-w-lg flex flex-col items-center py-4 gap-2 rounded-lg' style={{ background: bgColor }}>
              <h1 class='text-md font-semibold' style={{ color: mainColor }}>{title}</h1>
              <p class='text-sm' style={{ color }}>{description}</p>
              <div class='w-fit max-w-full flex gap-1 flex-wrap px-4 justify-center'>
                { hours.map((hora) => (
                  <span class='text-[13px] h-fit w-fit px-2 py-0.5 rounded-md' style={{ background: bg2Color }}>{hora}</span>
                )) }
              </div>
            </article>
          ))
        }
      </div>
      <p class='text-sm text-gray-600 text-center mb-2'>
        <strong>Nota:</strong>
        Los horarios pueden variar según la temporada y condiciones especiales.
      </p>
      <p class='text-sm text-gray-600 text-center'>Se recomienda confirmar horarios al momento de la compra del pasaje.</p>
    </div>
  </section>
  <section class='w-full h-fit px-4 pb-8 flex justify-center max-w-screen-2xl mx-auto'>
    <div class='bg-white w-full h-fit py-4 pt-8 gap-2 rounded-xl shadow-md'>
      <h1 class='text-2xl font-bold text-gray-800 text-center'>Información Importante</h1>
      <div class='w-full grid md:grid-cols-3 grid-cols-1 h-fit min-h-fit place-items-center py-4 px-8 gap-4'>
        {
          informacionImportante.map(({ Icon: InfoIcon, description, title }) => (
            <article class='w-fit h-fit flex flex-col items-center px-4 py-2 gap-2 rounded-lg'>
              <Icon class='size-8 text-orange-500'>
                <InfoIcon />
              </Icon>
              <h1 class='text-md font-semibold text-gray-800'>{title}</h1>
              <p class='text-[13px] text-gray-600 text-center'>{description}</p>
            </article>
          ))
        }
      </div>
    </div>
  </section>
  <section class='w-full h-fit min-h-fit py-8 px-4 pb-16 flex flex-col gap-4 justify-center items-center'>
    <h1 class='text-2xl font-bold text-gray-800 text-center'>¿No encuentras tu destino?</h1>
    <p class='text-gray-700 pb-4 text-center'>Contáctanos para consultar sobre rutas especiales o conexiones</p>
    <a href='/contact' class='rounded-lg py-3 px-8 h-fit w-fit hover:bg-orange-600 bg-orange-500 text-white transition-colors cursor-pointer'>Consultar Ruta</a>
  </section>
</Layout>